{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.202.0"},"children":{"LocalStackCognitoRepro-test-ApiStack":{"id":"LocalStackCognitoRepro-test-ApiStack","path":"LocalStackCognitoRepro-test-ApiStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.202.0"},"children":{"UserPool":{"id":"UserPool","path":"LocalStackCognitoRepro-test-ApiStack/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_phone_number","priority":1},{"name":"verified_email","priority":2}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"Your verification code is {####}","emailVerificationSubject":"Verify your email","schema":[{"name":"email","mutable":true,"required":true},{"name":"given_name","mutable":true,"required":false},{"name":"family_name","mutable":true,"required":false}],"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"localstack-cognito-repro-user-pool","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"Your verification code is {####}","emailSubject":"Verify your email","smsMessage":"The verification code to your new account is {####}"}}}}}},"UserPoolClient":{"id":"UserPoolClient","path":"LocalStackCognitoRepro-test-ApiStack/UserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"localstack-cognito-repro-client","explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"UserApi":{"id":"UserApi","path":"LocalStackCognitoRepro-test-ApiStack/UserApi","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"SignupFunction":{"id":"SignupFunction","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.202.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.202.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.202.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cognito-idp:SignUp","Effect":"Allow","Resource":{"Fn::GetAtt":["UserPool6BA7E5F2","Arn"]}}],"Version":"2012-10-17"},"policyName":"UserApiSignupFunctionServiceRoleDefaultPolicyC3F8CFFE","roles":[{"Ref":"UserApiSignupFunctionServiceRoleB104BA55"}]}}}}}}},"Code":{"id":"Code","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.202.0"},"children":{"Stage":{"id":"Stage","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.202.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.202.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SignupFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-000000000000-us-west-2","s3Key":"b20917e73df422e4fa6dd0e3a69ed6c0a555aa4d404a8f9f92ab734287c3cd35.zip"},"environment":{"variables":{"COGNITO_CLIENT_ID":{"Ref":"UserPoolClient2F5918F7"},"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","role":{"Fn::GetAtt":["UserApiSignupFunctionServiceRoleB104BA55","Arn"]},"runtime":"nodejs16.x","timeout":30}}}}},"SigninFunction":{"id":"SigninFunction","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.202.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.202.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.202.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["cognito-idp:InitiateAuth","cognito-idp:GetUser"],"Effect":"Allow","Resource":{"Fn::GetAtt":["UserPool6BA7E5F2","Arn"]}}],"Version":"2012-10-17"},"policyName":"UserApiSigninFunctionServiceRoleDefaultPolicy3299422C","roles":[{"Ref":"UserApiSigninFunctionServiceRole8428062C"}]}}}}}}},"Code":{"id":"Code","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.202.0"},"children":{"Stage":{"id":"Stage","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.202.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.202.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/SigninFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-000000000000-us-west-2","s3Key":"40a97d653037b505e6188323b8047691122e1c2ada7d3ec7c1b9e8929cbcc3c9.zip"},"environment":{"variables":{"COGNITO_CLIENT_ID":{"Ref":"UserPoolClient2F5918F7"},"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","role":{"Fn::GetAtt":["UserApiSigninFunctionServiceRole8428062C","Arn"]},"runtime":"nodejs16.x","timeout":30}}}}},"ConfirmFunction":{"id":"ConfirmFunction","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.202.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.202.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.202.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"cognito-idp:ConfirmSignUp","Effect":"Allow","Resource":{"Fn::GetAtt":["UserPool6BA7E5F2","Arn"]}}],"Version":"2012-10-17"},"policyName":"UserApiConfirmFunctionServiceRoleDefaultPolicy87A32D3C","roles":[{"Ref":"UserApiConfirmFunctionServiceRoleC333D2E6"}]}}}}}}},"Code":{"id":"Code","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.202.0"},"children":{"Stage":{"id":"Stage","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.202.0"}},"AssetBucket":{"id":"AssetBucket","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.202.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/ConfirmFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-000000000000-us-west-2","s3Key":"1dfef1df17f140dc886e49964bf8d5434e7a12a06e204d5433696be9af6446d1.zip"},"environment":{"variables":{"COGNITO_CLIENT_ID":{"Ref":"UserPoolClient2F5918F7"},"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1"}},"handler":"index.handler","role":{"Fn::GetAtt":["UserApiConfirmFunctionServiceRoleC333D2E6","Arn"]},"runtime":"nodejs16.x","timeout":30}}}}},"UserApi":{"id":"UserApi","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"API for user authentication operations","name":"User API"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.202.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.202.0","metadata":[]}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["UserApiCloudWatchRole76CB8B23","Arn"]}}}},"Deployment":{"id":"Deployment","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"API for user authentication operations","restApiId":{"Ref":"UserApi83A1757D"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"UserApiDeploymentF9FB239Ec790d29996e4494455b62b0f8f414e5e"},"restApiId":{"Ref":"UserApi83A1757D"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.202.0"}},"Default":{"id":"Default","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.202.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["UserApi83A1757D","RootResourceId"]},"restApiId":{"Ref":"UserApi83A1757D"}}}}}},"user":{"id":"user","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UserApi83A1757D","RootResourceId"]},"pathPart":"user","restApiId":{"Ref":"UserApi83A1757D"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"UserApiuser11117968"},"restApiId":{"Ref":"UserApi83A1757D"}}}}}},"signup":{"id":"signup","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signup","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"UserApiuser11117968"},"pathPart":"signup","restApiId":{"Ref":"UserApi83A1757D"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signup/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signup/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"UserApiusersignup27939401"},"restApiId":{"Ref":"UserApi83A1757D"}}}}}},"POST":{"id":"POST","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signup/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.202.0","metadata":[]},"children":{"ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signup":{"id":"ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signup","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signup/POST/ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signup","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiSignupFunctionA0D6F183","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"UserApi83A1757D"},"/",{"Ref":"UserApiDeploymentStageprod07FFD2C2"},"/POST/user/signup"]]}}}},"ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signup":{"id":"ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signup","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signup/POST/ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signup","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiSignupFunctionA0D6F183","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"UserApi83A1757D"},"/test-invoke-stage/POST/user/signup"]]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signup/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["UserApiSignupFunctionA0D6F183","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UserApiusersignup27939401"},"restApiId":{"Ref":"UserApi83A1757D"}}}}}}}},"signin":{"id":"signin","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"UserApiuser11117968"},"pathPart":"signin","restApiId":{"Ref":"UserApi83A1757D"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signin/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signin/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"UserApiusersigninF9CE570F"},"restApiId":{"Ref":"UserApi83A1757D"}}}}}},"POST":{"id":"POST","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signin/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.202.0","metadata":[]},"children":{"ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signin":{"id":"ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signin","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signin/POST/ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiSigninFunction3F69EE77","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"UserApi83A1757D"},"/",{"Ref":"UserApiDeploymentStageprod07FFD2C2"},"/POST/user/signin"]]}}}},"ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signin":{"id":"ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signin","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signin/POST/ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.signin","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiSigninFunction3F69EE77","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"UserApi83A1757D"},"/test-invoke-stage/POST/user/signin"]]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/signin/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["UserApiSigninFunction3F69EE77","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UserApiusersigninF9CE570F"},"restApiId":{"Ref":"UserApi83A1757D"}}}}}}}},"confirm":{"id":"confirm","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/confirm","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/confirm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"UserApiuser11117968"},"pathPart":"confirm","restApiId":{"Ref":"UserApi83A1757D"}}}},"OPTIONS":{"id":"OPTIONS","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/confirm/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/confirm/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"UserApiuserconfirm943BBC2B"},"restApiId":{"Ref":"UserApi83A1757D"}}}}}},"POST":{"id":"POST","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/confirm/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.202.0","metadata":[]},"children":{"ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.confirm":{"id":"ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.confirm","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/confirm/POST/ApiPermission.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.confirm","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiConfirmFunctionABB3F015","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"UserApi83A1757D"},"/",{"Ref":"UserApiDeploymentStageprod07FFD2C2"},"/POST/user/confirm"]]}}}},"ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.confirm":{"id":"ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.confirm","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/confirm/POST/ApiPermission.Test.LocalStackCognitoReprotestApiStackUserApi7A698924.POST..user.confirm","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiConfirmFunctionABB3F015","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"UserApi83A1757D"},"/test-invoke-stage/POST/user/confirm"]]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/UserApi/UserApi/Default/user/confirm/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-west-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["UserApiConfirmFunctionABB3F015","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UserApiuserconfirm943BBC2B"},"restApiId":{"Ref":"UserApi83A1757D"}}}}}}}}}}}}}}}},"HttpApi":{"id":"HttpApi","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpApi","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnApi","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Api","aws:cdk:cloudformation:props":{"corsConfiguration":{"allowHeaders":["Content-Type","Authorization"],"allowMethods":["GET","POST","PUT","DELETE"],"allowOrigins":["*"]},"description":"HTTP API for user authentication with Cognito","name":"localstack-cognito-repro-api","protocolType":"HTTP","tags":{"_custom_id_":"test"}}}},"DefaultStage":{"id":"DefaultStage","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/DefaultStage","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpStage","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/DefaultStage/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnStage","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Stage","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"autoDeploy":true,"stageName":"$default","tags":{"_custom_id_":"test"}}}}}},"POST--user--signup":{"id":"POST--user--signup","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signup","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.202.0","metadata":[]},"children":{"SignupIntegration":{"id":"SignupIntegration","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signup/SignupIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signup/SignupIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["UserApiSignupFunctionA0D6F183","Arn"]},"payloadFormatVersion":"2.0"}}}}},"SignupIntegration-Permission":{"id":"SignupIntegration-Permission","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signup/SignupIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiSignupFunctionA0D6F183","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"HttpApiF5A9A8A7"},"/*/*/user/signup"]]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"authorizationType":"NONE","routeKey":"POST /user/signup","target":{"Fn::Join":["",["integrations/",{"Ref":"HttpApiPOSTusersignupSignupIntegrationE228FFBF"}]]}}}}}},"POST--user--signin":{"id":"POST--user--signin","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signin","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.202.0","metadata":[]},"children":{"SigninIntegration":{"id":"SigninIntegration","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signin/SigninIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signin/SigninIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["UserApiSigninFunction3F69EE77","Arn"]},"payloadFormatVersion":"2.0"}}}}},"SigninIntegration-Permission":{"id":"SigninIntegration-Permission","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signin/SigninIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiSigninFunction3F69EE77","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"HttpApiF5A9A8A7"},"/*/*/user/signin"]]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--signin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"authorizationType":"NONE","routeKey":"POST /user/signin","target":{"Fn::Join":["",["integrations/",{"Ref":"HttpApiPOSTusersigninSigninIntegrationD6AF1DDD"}]]}}}}}},"POST--user--confirm":{"id":"POST--user--confirm","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--confirm","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpRoute","version":"2.202.0","metadata":[]},"children":{"ConfirmIntegration":{"id":"ConfirmIntegration","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--confirm/ConfirmIntegration","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.HttpIntegration","version":"2.202.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--confirm/ConfirmIntegration/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnIntegration","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Integration","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"integrationType":"AWS_PROXY","integrationUri":{"Fn::GetAtt":["UserApiConfirmFunctionABB3F015","Arn"]},"payloadFormatVersion":"2.0"}}}}},"ConfirmIntegration-Permission":{"id":"ConfirmIntegration-Permission","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--confirm/ConfirmIntegration-Permission","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["UserApiConfirmFunctionABB3F015","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-west-2:000000000000:",{"Ref":"HttpApiF5A9A8A7"},"/*/*/user/confirm"]]}}}},"Resource":{"id":"Resource","path":"LocalStackCognitoRepro-test-ApiStack/HttpApi/POST--user--confirm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigatewayv2.CfnRoute","version":"2.202.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGatewayV2::Route","aws:cdk:cloudformation:props":{"apiId":{"Ref":"HttpApiF5A9A8A7"},"authorizationType":"NONE","routeKey":"POST /user/confirm","target":{"Fn::Join":["",["integrations/",{"Ref":"HttpApiPOSTuserconfirmConfirmIntegration0954C10C"}]]}}}}}}}},"UserPoolId":{"id":"UserPoolId","path":"LocalStackCognitoRepro-test-ApiStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.202.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"LocalStackCognitoRepro-test-ApiStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.202.0"}},"ApiEndpoint":{"id":"ApiEndpoint","path":"LocalStackCognitoRepro-test-ApiStack/ApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.202.0"}},"HttpApiEndpoint":{"id":"HttpApiEndpoint","path":"LocalStackCognitoRepro-test-ApiStack/HttpApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.202.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"LocalStackCognitoRepro-test-ApiStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"LocalStackCognitoRepro-test-ApiStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.202.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"LocalStackCognitoRepro-test-ApiStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.202.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"LocalStackCognitoRepro-test-ApiStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.202.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}